import{u as e,i as a,b as s,j as r,aA as t,Z as l,an as d,aB as i,M as n,c as o,aC as c,W as x,L as g,O as m,G as b,x as u,aD as h,v as y,F as p,V as w,E as j,f,av as k,S as N,n as v,aw as C,T as P,a4 as S}from"./vendor-BBNOa7qo.js";import{N as A}from"./Navbar-BT3cOAht.js";import{u as E,j as D,b as T}from"./index-CpGYe4dt.js";function L(){const{user:L,logout:U}=E(),{darkMode:M,toggleDarkMode:$}=D(),I=e(),[B]=a(),[O,V]=s.useState("profile"),[q,z]=s.useState(null),[G,R]=s.useState(null),[W,Y]=s.useState(!0),[H,J]=s.useState(!1),[Q,Z]=s.useState({name:"",bio:"",website:"",location:"",email:""}),[K,X]=s.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[_,ee]=s.useState({current:!1,new:!1,confirm:!1}),[ae,se]=s.useState(null),[re,te]=s.useState("free"),[le,de]=s.useState(""),[ie,ne]=s.useState(""),[oe,ce]=s.useState(!1),[xe,ge]=s.useState([]);s.useEffect(()=>{"settings"===B.get("tab")&&V("settings"),me()},[B]);const me=async()=>{try{const[e,a]=await Promise.all([T.get("/api/profile"),T.get("/api/profile/stats")]);z(e.data),R(a.data),te(e.data.plan||"free"),Z({name:e.data.name||"",bio:e.data.bio||"",website:e.data.website||"",location:e.data.location||"",email:e.data.email||""})}catch(e){}finally{Y(!1)}},be={free:{color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",icon:d},pro:{color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",icon:l},business:{color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",icon:t}};if(W&&!q)return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx(A,{}),r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]});const ue=q?.plan||"free",he=be[ue]?.icon||d;return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx(A,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[r.jsxs("div",{className:"mb-6 flex gap-2 overflow-x-auto",children:[r.jsx("button",{onClick:()=>V("profile"),className:"px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap "+("profile"===O?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:"Profile"}),r.jsx("button",{onClick:()=>V("settings"),className:"px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap "+("settings"===O?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:"Settings"})]}),"profile"===O&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl h-32 sm:h-48 mb-16 sm:mb-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute -bottom-12 sm:-bottom-16 left-4 sm:left-8",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-white dark:bg-gray-800 border-4 border-white dark:border-gray-900 flex items-center justify-center shadow-xl",children:r.jsx(d,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 dark:text-gray-600"})}),r.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-blue-600 rounded-full text-white hover:bg-blue-700 transition shadow-lg",children:r.jsx(i,{className:"w-4 h-4"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex-1",children:[H?r.jsx("input",{type:"text",value:Q.name,onChange:e=>Z({...Q,name:e.target.value}),className:"text-2xl font-bold mb-2 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}):r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:q?.name||"User"}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 mb-3",children:[r.jsx(n,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:q?.email})]}),r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full ${be[ue]?.color} font-semibold text-sm`,children:[r.jsx(he,{className:"w-4 h-4"}),r.jsxs("span",{className:"capitalize",children:[ue," Plan"]})]})]}),r.jsx("button",{onClick:()=>H?(async()=>{Y(!0);try{await T.put("/api/profile",Q),alert("Profile updated successfully!"),J(!1),me()}catch(e){alert(e.response?.data?.error||"Failed to update profile")}finally{Y(!1)}})():J(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:H?r.jsxs(r.Fragment,{children:[r.jsx(o,{className:"w-4 h-4"}),r.jsx("span",{children:"Save"})]}):r.jsxs(r.Fragment,{children:[r.jsx(c,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),H?r.jsx("textarea",{value:Q.bio,onChange:e=>Z({...Q,bio:e.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Tell us about yourself..."}):r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:q?.bio||"No bio yet. Click Edit to add one!"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),H?r.jsx("input",{type:"url",value:Q.website,onChange:e=>Z({...Q,website:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://example.com"}):r.jsx("p",{className:"text-blue-600 dark:text-blue-400",children:q?.website||"Not set"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),H?r.jsx("input",{type:"text",value:Q.location,onChange:e=>Z({...Q,location:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"City, Country"}):r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:q?.location||"Not set"})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[r.jsx(x,{className:"w-4 h-4"}),r.jsxs("span",{children:["Member since ",new Date(q?.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(F,{icon:g,label:"Total Links",value:G?.totalLinks||0,color:"blue"}),r.jsx(F,{icon:m,label:"Total Clicks",value:G?.totalClicks||0,color:"green"}),r.jsx(F,{icon:b,label:"Countries",value:G?.countries||0,color:"purple"}),r.jsx(F,{icon:u,label:"This Month",value:G?.clicksThisMonth||0,color:"orange"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(h,{className:"w-6 h-6 text-yellow-500"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Achievements"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:1,name:"First Link",description:"Created your first link",icon:"ðŸŽ‰",unlocked:!0},{id:2,name:"100 Clicks",description:"Reached 100 total clicks",icon:"ðŸ’¯",unlocked:G?.totalClicks>=100},{id:3,name:"Global Reach",description:"Clicks from 10+ countries",icon:"ðŸŒ",unlocked:G?.countries>=10},{id:4,name:"Power User",description:"Created 50+ links",icon:"âš¡",unlocked:G?.totalLinks>=50},{id:5,name:"Viral Hit",description:"Single link with 1000+ clicks",icon:"ðŸš€",unlocked:!1},{id:6,name:"Early Adopter",description:"Joined in first year",icon:"ðŸ†",unlocked:!0}].map(e=>r.jsxs("div",{className:"p-4 rounded-lg border-2 transition-all "+(e.unlocked?"border-yellow-400 dark:border-yellow-600 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/30 opacity-60"),children:[r.jsx("div",{className:"text-3xl mb-2",children:e.icon}),r.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-1",children:e.name}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description}),e.unlocked&&r.jsx(o,{className:"w-4 h-4 text-yellow-500 mt-2"})]},e.id))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>I("/links"),className:"w-full px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[r.jsx(g,{className:"w-4 h-4"}),r.jsx("span",{children:"Create New Link"})]}),r.jsxs("button",{onClick:()=>I("/analytics"),className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[r.jsx(u,{className:"w-4 h-4"}),r.jsx("span",{children:"View Analytics"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Account Status"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(y,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Verified Email"})]}),r.jsx(o,{className:"w-5 h-5 text-green-500"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(p,{className:"w-5 h-5 text-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"API Access"})]}),"free"!==ue?r.jsx(o,{className:"w-5 h-5 text-green-500"}):r.jsx("span",{className:"text-xs text-gray-500",children:"Upgrade"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(t,{className:"w-5 h-5 text-purple-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Premium Features"})]}),"business"===ue?r.jsx(o,{className:"w-5 h-5 text-green-500"}):r.jsx("span",{className:"text-xs text-gray-500",children:"Upgrade"})]})]}),"free"===ue&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:r.jsx("button",{onClick:()=>V("settings"),className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-lg font-medium transition-colors",children:"Upgrade Plan"})})]})]})]})]}),"settings"===O&&r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(w,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Security & Password"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:_.current?"text":"password",value:K.currentPassword,onChange:e=>X({...K,currentPassword:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter current password"}),r.jsx("button",{type:"button",onClick:()=>ee({..._,current:!_.current}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:_.current?r.jsx(j,{className:"w-5 h-5"}):r.jsx(f,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:_.new?"text":"password",value:K.newPassword,onChange:e=>X({...K,newPassword:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter new password"}),r.jsx("button",{type:"button",onClick:()=>ee({..._,new:!_.new}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:_.new?r.jsx(j,{className:"w-5 h-5"}):r.jsx(f,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:_.confirm?"text":"password",value:K.confirmPassword,onChange:e=>X({...K,confirmPassword:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Confirm new password"}),r.jsx("button",{type:"button",onClick:()=>ee({..._,confirm:!_.confirm}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:_.confirm?r.jsx(j,{className:"w-5 h-5"}):r.jsx(f,{className:"w-5 h-5"})})]})]}),r.jsxs("button",{onClick:async()=>{if(K.newPassword===K.confirmPassword)if(K.newPassword.length<6)alert("Password must be at least 6 characters");else{Y(!0);try{await T.post("/api/settings/change-password",{currentPassword:K.currentPassword,newPassword:K.newPassword}),alert("Password changed successfully!"),X({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){alert(e.response?.data?.error||"Failed to change password")}finally{Y(!1)}}else alert("New passwords do not match")},disabled:W,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[r.jsx(w,{className:"w-4 h-4"}),r.jsx("span",{children:W?"Changing...":"Change Password"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(k,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Subscription Plan"})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Current Plan: ",r.jsx("span",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:re})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:"free",name:"Free",price:"$0",features:["1,000 links/month","100 API requests/day","Basic Analytics"]},{id:"pro",name:"Pro",price:"$15",features:["10,000 links/month","1,000 API requests/day","Password Protection","Advanced Analytics"]},{id:"business",name:"Business",price:"$49",features:["Unlimited links","Unlimited API requests","Custom Domains","Team Collaboration"]}].map(e=>r.jsxs("div",{className:"p-6 rounded-lg border-2 "+(re===e.id?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-700/50"),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.name}),re===e.id&&r.jsx(o,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:[e.price,r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"/mo"})]}),r.jsx("ul",{className:"space-y-2 mb-4",children:e.features.map((e,a)=>r.jsxs("li",{className:"flex items-start text-sm text-gray-600 dark:text-gray-300",children:[r.jsx(o,{className:"w-4 h-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0"}),e]},a))}),re!==e.id&&r.jsx("button",{onClick:()=>(async e=>{if(confirm(`Are you sure you want to ${"free"===e?"downgrade":"upgrade"} to ${e} plan?`)){Y(!0);try{await T.put("/api/settings/subscription",{plan:e}),alert("Plan updated successfully!"),te(e),me()}catch(a){alert(a.response?.data?.error||"Failed to update plan")}finally{Y(!1)}}})(e.id),disabled:W,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"free"===re&&"free"!==e.id?"Upgrade":"free"!==re&&"free"===e.id?"Downgrade":"Switch Plan"})]},e.id))})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[M?r.jsx(N,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}):r.jsx(v,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Theme"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose your preferred theme"})]})]}),r.jsx("button",{onClick:$,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:M?r.jsxs(r.Fragment,{children:[r.jsx(N,{className:"w-4 h-4"}),r.jsx("span",{children:"Light Mode"})]}):r.jsxs(r.Fragment,{children:[r.jsx(v,{className:"w-4 h-4"}),r.jsx("span",{children:"Dark Mode"})]})})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(C,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sign Out"})]}),r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Sign out from your account. You will need to sign in again to access your account."}),r.jsxs("button",{onClick:()=>{confirm("Are you sure you want to sign out?")&&(U(),I("/login"))},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors flex items-center gap-2",children:[r.jsx(C,{className:"w-4 h-4"}),r.jsx("span",{children:"Sign Out"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border-2 border-red-200 dark:border-red-900/50",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(P,{className:"w-6 h-6 text-red-600 dark:text-red-400"}),r.jsx("h2",{className:"text-xl font-bold text-red-900 dark:text-red-400",children:"Delete Account"})]}),r.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[r.jsx("h3",{className:"font-semibold text-red-900 dark:text-red-300 mb-2",children:"Permanent Account Deletion"}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-4",children:"Once you delete your account, there is no going back. This will permanently delete all your links, analytics data, and account information."}),r.jsxs("button",{onClick:()=>ce(!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx(S,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Account"})]})]})]}),oe&&r.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full shadow-2xl",children:[r.jsx("h3",{className:"text-xl font-bold text-red-900 dark:text-red-400 mb-4",children:"Delete Account"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"This action cannot be undone. All your data will be permanently deleted."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type DELETE to confirm"}),r.jsx("input",{type:"text",value:le,onChange:e=>de(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"DELETE"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter your password"}),r.jsx("input",{type:"password",value:ie,onChange:e=>ne(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Your password"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:async()=>{if("DELETE"!==le)return void alert("Please type DELETE to confirm");if(!ie)return void alert("Please enter your password");if(confirm("âš ï¸ FINAL WARNING: This will permanently delete your account and all data. Are you absolutely sure?")){Y(!0);try{await T.delete("/api/settings/account",{data:{password:ie,confirmDelete:!0}}),alert("Account deleted successfully. You will be logged out now."),U(),I("/login")}catch(e){const a=e.response?.data?.error||"Failed to delete account. Please try again.";alert(a)}finally{Y(!1),ce(!1),de(""),ne("")}}},disabled:W||"DELETE"!==le,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:W?"Deleting...":"Delete Account"}),r.jsx("button",{onClick:()=>{ce(!1),de(""),ne("")},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})]})})]})]})]})}const F=({icon:e,label:a,value:s,color:t})=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg ${{blue:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",green:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",purple:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",orange:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400"}[t]} flex items-center justify-center mb-3`,children:r.jsx(e,{className:"w-5 h-5"})}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:a}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.toLocaleString()})]});export{L as default};
