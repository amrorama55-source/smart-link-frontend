import{ax as e,b as t,j as a,k as s,c as r,G as i,ai as l,aj as n,ak as d,al as c}from"./vendor-BBNOa7qo.js";import{a as o}from"./index-CpGYe4dt.js";const x="https://smart-link-backend-production.up.railway.app",m={default:"bg-[#f3f4f6]",dark:"bg-[#1e1e1e]",blue:"bg-blue-50",gradient:"bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",midnight:"bg-slate-900"},h={instagram:c,twitter:d,github:n,linkedin:l,website:i,youtube:i,tiktok:i};function u({previewData:l=null}){const{username:n}=e(),[d,c]=t.useState(!l),[u,b]=t.useState(l),[g,f]=t.useState(null);t.useEffect(()=>{if(l)return b(l),void c(!1);n&&p()},[n,l]);const p=async()=>{c(!0);try{const{data:e}=await o.get(`${x}/api/bio/${n}`);b(e.bioPage),l||w(n)}catch(e){f(e.response?.data?.error||"Bio page not found")}finally{c(!1)}},w=async e=>{try{await o.post(`${x}/api/bio/${e}/view`)}catch(t){}};if(d)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsx(s,{className:"w-8 h-8 text-blue-600 animate-spin"})});if(g||!u)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 text-center px-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:g||"This bio page doesn't exist"})]})});const j=u.theme||"default",y=m[j]||m.default,v=["dark","midnight","gradient"].includes(j),N=v?"bg-black/20 backdrop-blur-md border-white/10 text-white":"bg-white border-gray-200 text-gray-900";return a.jsxs("div",{className:`min-h-screen w-full ${y} transition-colors duration-500 overflow-x-hidden ${l?"rounded-[2rem]":""} flex flex-col`,children:[a.jsx("div",{className:"h-32 w-full "+(v?"bg-white/5":"bg-gray-200/50")}),a.jsxs("div",{className:"max-w-xl mx-auto px-4 -mt-16 w-full flex-1 pb-12",children:[a.jsxs("div",{className:`rounded-3xl shadow-xl p-8 border ${N} text-center relative overflow-hidden`,children:[a.jsx("div",{className:"relative inline-block mb-4",children:a.jsx("div",{className:`w-36 h-36 rounded-full p-1.5 ${v?"bg-black":"bg-white"} shadow-lg mx-auto`,children:u.avatar?a.jsx("img",{src:u.avatar,alt:u.displayName,className:"w-full h-full rounded-full object-cover",onError:e=>{e.target.style.display="none"}}):a.jsx("div",{className:"w-full h-full rounded-full bg-blue-100 flex items-center justify-center text-5xl",children:"ðŸ‘¤"})})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-extrabold tracking-tight mb-1",children:u.displayName||(l?"Your Name":"")}),a.jsxs("p",{className:"text-lg font-medium "+(v?"text-white/60":"text-gray-500"),children:["@",u.username]})]}),u.bio&&a.jsx("p",{className:"text-base leading-relaxed mb-8 max-w-sm mx-auto "+(v?"text-white/80":"text-gray-600"),children:u.bio}),a.jsx("div",{className:"space-y-3 text-left",children:u.customLinks&&u.customLinks.length>0?u.customLinks.map((e,t)=>a.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",onClick:()=>(async e=>{if(!l)try{await o.post(`${x}/api/bio/${n}/click`,{linkIndex:e})}catch(t){}})(t),className:"group flex items-center p-3 rounded-xl transition-all border hover:shadow-md "+(v?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-50 border-gray-100 hover:bg-white hover:border-gray-200"),children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl mr-3 "+(v?"bg-white/10":"bg-white shadow-sm"),children:e.icon||"ðŸ”—"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-sm truncate",children:e.title||e.url}),a.jsx("p",{className:"text-xs truncate "+(v?"text-white/50":"text-gray-400"),children:e.url})]}),a.jsx(r,{className:`w-5 h-5 ${v?"text-white/20":"text-gray-300"} group-hover:text-blue-500 transition-colors`})]},t)):l&&a.jsx("div",{className:"p-6 border-2 border-dashed border-gray-300/50 rounded-xl text-center",children:a.jsx("p",{className:v?"text-white/50":"text-gray-400",children:"Add verified links"})})}),u.socialLinks&&u.socialLinks.length>0&&a.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200/20 flex justify-center gap-4",children:u.socialLinks.map((e,t)=>{const s=h[e.platform]||i;return a.jsx("a",{href:e.url,target:"_blank",className:"text-gray-400 hover:text-blue-500 transition-colors",children:a.jsx(s,{className:"w-6 h-6"})},t)})})]}),a.jsx("div",{className:"text-center mt-8 opacity-50",children:a.jsxs("a",{href:"/",className:"text-xs font-bold tracking-widest uppercase hover:text-blue-500 transition-colors",children:[a.jsx("span",{className:"text-blue-500",children:"âš¡"})," Smart Link"]})})]})]})}export{u as default};
