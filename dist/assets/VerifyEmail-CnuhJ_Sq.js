import{k as e,b as s,j as a,l as i,c as r,C as t,h as l}from"./vendor-mINc_jmg.js";import{a as n}from"./index-cjCEeBZf.js";function c(){const[c]=e(),[d,m]=s.useState("verifying"),[o,x]=s.useState(""),f=c.get("token"),u=s.useCallback(async()=>{if(!f)return m("error"),void x("Invalid verification link");try{const{data:e}=await n.get(`http://localhost:3000/api/auth/verify-email/${f}`);m("success"),x(e.message||"Email verified successfully!")}catch(e){m("error"),x(e.response?.data?.error||"Verification failed. Please try again.")}},[f]);return s.useEffect(()=>{u()},[u]),a.jsx("div",{className:"min-h-[100dvh] bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl mb-4 "+("verifying"===d?"bg-blue-100":"success"===d?"bg-green-100":"bg-red-100"),children:["verifying"===d&&a.jsx(i,{className:"w-8 h-8 text-blue-600 animate-spin"}),"success"===d&&a.jsx(r,{className:"w-8 h-8 text-green-600"}),"error"===d&&a.jsx(t,{className:"w-8 h-8 text-red-600"})]}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["verifying"===d&&"Verifying Email...","success"===d&&"Email Verified!","error"===d&&"Verification Failed"]}),o&&a.jsx("p",{className:"text-gray-600 mt-2",children:o})]}),a.jsxs("div",{className:"card text-center",children:["success"===d&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-600 mb-6",children:"Your email has been verified successfully. You can now access all features."}),a.jsx(l,{to:"/dashboard",className:"btn-primary inline-flex items-center justify-center w-full",children:"Go to Dashboard"})]}),"error"===d&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-600 mb-6",children:"The verification link may have expired or is invalid. Please try logging in or request a new verification email."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(l,{to:"/login",className:"btn-primary inline-flex items-center justify-center w-full",children:"Back to Login"}),a.jsx("button",{onClick:u,className:"w-full px-4 py-2 text-blue-600 hover:text-blue-700 font-medium",children:"Try Again"})]})]}),"verifying"===d&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-500",children:"Please wait while we verify your email address..."}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"animate-pulse text-gray-400 text-sm",children:"This may take a few seconds"})})]})]})]})})}export{c as default};
