import{b as e,u as s,j as t,L as a,O as r,f as l,W as n,x as i,Y as x,G as d,y as m,t as c,_ as o,w as g,c as h,K as p,Z as b}from"./vendor-BBNOa7qo.js";import{g as u,S as j}from"./index-CpGYe4dt.js";import{N as f}from"./Navbar-BT3cOAht.js";function y(){const[y,k]=e.useState(null),[N,w]=e.useState(!0),[v,C]=e.useState(null),L=s();e.useEffect(()=>{T()},[]);const T=async()=>{try{const e=await u();k(e.stats)}catch(e){}finally{w(!1)}};if(N)return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[t.jsx(f,{}),t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-2 border-blue-500 border-t-transparent mx-auto"}),t.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Just a sec..."})]})})]});const A=y?.clickTrend||"stable",S=[{title:"Total Links",value:y?.totalLinks||0,icon:a,color:"blue",trend:null},{title:"Total Clicks",value:y?.totalClicks||0,icon:r,color:"green",trend:A},{title:"Active Links",value:y?.activeLinks||0,icon:l,color:"purple",trend:null},{title:"Clicks Today",value:y?.clicksToday||0,icon:n,color:"orange",trend:null}],$={blue:"bg-blue-500 dark:bg-blue-600",green:"bg-green-500 dark:bg-green-600",purple:"bg-purple-500 dark:bg-purple-600",orange:"bg-orange-500 dark:bg-orange-600"};return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[t.jsx(f,{}),t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:[t.jsxs("div",{className:"mb-6 sm:mb-8",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-1 sm:mb-2 tracking-tight",children:"Good to see you"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Hereâ€™s how your links are doing."})]}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:S.map((e,s)=>{const a=e.icon;return t.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-2xl p-4 sm:p-6 shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-100 dark:border-gray-800",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3 sm:mb-4",children:[t.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${$[e.color]}`,children:t.jsx(a,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.trend&&t.jsxs("div",{className:"flex items-center gap-1 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-semibold "+("up"===e.trend?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"down"===e.trend?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"),children:["up"===e.trend&&t.jsx(i,{className:"w-3 h-3"}),"down"===e.trend&&t.jsx(x,{className:"w-3 h-3"}),t.jsxs("span",{className:"hidden sm:inline",children:["up"===e.trend?"+":"down"===e.trend?"-":"","stable"!==e.trend&&"10%"]})]})]}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-1",children:e.title}),t.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white",children:e.value.toLocaleString()})]},s)})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 rounded-xl p-5 sm:p-6 text-white shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[t.jsx(l,{className:"w-4 h-4 sm:w-5 sm:h-5"}),t.jsx("span",{className:"text-xs sm:text-sm font-medium opacity-90",children:"Unique Visitors"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:y?.totalUniqueVisitors?.toLocaleString()||0}),t.jsx("p",{className:"text-xs opacity-75 mt-1",children:"All time"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 rounded-xl p-5 sm:p-6 text-white shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[t.jsx(d,{className:"w-4 h-4 sm:w-5 sm:h-5"}),t.jsx("span",{className:"text-xs sm:text-sm font-medium opacity-90",children:"Top Country"})]}),t.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:y?.topCountries?.[0]?.country||"N/A"}),t.jsxs("p",{className:"text-xs opacity-75 mt-1",children:[y?.topCountries?.[0]?.count||0," clicks"]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 dark:from-orange-600 dark:to-orange-700 rounded-xl p-5 sm:p-6 text-white shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[t.jsx(m,{className:"w-4 h-4 sm:w-5 sm:h-5"}),t.jsx("span",{className:"text-xs sm:text-sm font-medium opacity-90",children:"Mobile Traffic"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:y?.averageClicksPerLink?.toFixed(1)||0}),t.jsx("p",{className:"text-xs opacity-75 mt-1",children:"Avg clicks per link"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[t.jsx(c,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400"}),"Top Performing Links"]}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Your most clicked links"})]}),t.jsxs("button",{onClick:()=>L("/links"),className:"w-full sm:w-auto px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm",children:["View All",t.jsx(o,{className:"w-4 h-4"})]})]})}),y?.topLinks?.length?t.jsx("div",{className:"p-3 sm:p-6",children:t.jsx("div",{className:"space-y-3 sm:space-y-4",children:y.topLinks.map((e,s)=>t.jsxs("div",{className:"group relative p-4 sm:p-5 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-md transition-all duration-300",children:[t.jsxs("div",{className:"absolute -top-2 -left-2 w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-full flex items-center justify-center font-bold text-xs sm:text-sm shadow-lg",children:["#",s+1]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("h3",{className:"font-bold text-base sm:text-lg text-gray-900 dark:text-white mb-2 flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"truncate",children:e.title||"Untitled Link"}),e.abTest?.enabled&&t.jsxs("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 text-xs rounded-full flex items-center gap-1 flex-shrink-0",children:[t.jsx(g,{className:"w-3 h-3"}),"A/B Test"]})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[t.jsxs("a",{href:`${j}/${e.shortCode}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 text-xs sm:text-sm font-medium hover:underline flex items-center gap-1",children:[t.jsxs("span",{className:"truncate",children:[j,"/",e.shortCode]}),t.jsx(o,{className:"w-3 h-3 flex-shrink-0"})]}),t.jsx("button",{onClick:()=>{return s=`${j}/${e.shortCode}`,t=e.shortCode,navigator.clipboard.writeText(s),C(t),void setTimeout(()=>C(null),2e3);var s,t},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition flex-shrink-0",children:v===e.shortCode?t.jsx(h,{className:"w-4 h-4 text-green-600"}):t.jsx(p,{className:"w-4 h-4 text-gray-500"})})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mb-3",children:e.originalUrl}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[t.jsxs("button",{onClick:()=>L(`/analytics?link=${e.shortCode}`),className:"text-xs sm:text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium flex items-center justify-center sm:justify-start gap-1 py-1.5 sm:py-0",children:[t.jsx(c,{className:"w-4 h-4"}),"View Analytics"]}),t.jsxs("button",{onClick:()=>L("/links"),className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 hover:underline flex items-center justify-center sm:justify-start gap-1 py-1.5 sm:py-0",children:[t.jsx(b,{className:"w-4 h-4"}),"Manage"]})]})]}),t.jsxs("div",{className:"flex sm:flex-col items-center sm:items-end justify-between sm:justify-center gap-2 sm:gap-0 pt-3 sm:pt-0 border-t sm:border-t-0 border-gray-200 dark:border-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:mb-1",children:[t.jsx(r,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 dark:text-green-400"}),t.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white",children:e.totalClicks.toLocaleString()})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"total clicks"}),e.clickRate&&t.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 font-semibold",children:[e.clickRate.toFixed(1),"% CTR"]})]})]})]})]},e.shortCode))})}):t.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(a,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400 dark:text-gray-500"})}),t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No links yet"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-6",children:"Create your first smart link to start tracking performance"}),t.jsxs("button",{onClick:()=>L("/links"),className:"px-5 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-medium transition-all shadow-lg hover:shadow-xl inline-flex items-center gap-2 text-sm sm:text-base",children:[t.jsx(a,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Create Your First Link"]})]})]})]})]})}export{y as default};
