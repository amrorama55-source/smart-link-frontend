import{u as e,k as a,b as r,j as t,aA as s,Z as l,an as d,aB as i,M as n,W as o,c,aC as x,L as g,O as m,G as b,x as h,aD as u,v as p,F as y,V as w,E as f,f as j,av as k,S as N,n as v,aw as C,T as P,a6 as S}from"./vendor-mINc_jmg.js";import{N as A}from"./Navbar-BiXqz2xf.js";import{u as E,j as D,k as L,g as T,l as F,m as U,n as M,o as R}from"./index-cjCEeBZf.js";import{P as z}from"./plans-CDPX-md5.js";function I(){const{user:I,logout:$}=E(),{darkMode:B,toggleDarkMode:O}=D(),V=e(),[G]=a(),[W,_]=r.useState("profile"),[J,H]=r.useState(null),[Q,Z]=r.useState({totalLinks:0,totalClicks:0,countries:0,clicksThisMonth:0}),[q,K]=r.useState(!0),[X,ee]=r.useState(!1),[ae,re]=r.useState({name:"",bio:"",website:"",location:"",email:"",avatar:""}),[te,se]=r.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[le,de]=r.useState({current:!1,new:!1,confirm:!1}),[ie,ne]=r.useState(null),[oe,ce]=r.useState("free"),[xe,ge]=r.useState(""),[me,be]=r.useState(""),[he,ue]=r.useState(!1),[pe,ye]=r.useState([]);r.useEffect(()=>{"settings"===G.get("tab")&&_("settings"),we()},[G]);const we=async()=>{try{const a=await L(),r=a.user||a;H(r),ce(r.plan||"free"),re({name:r.name||"",bio:r.bioPage?.bio||r.bio||"",website:r.website||"",location:r.location||"",email:r.email||"",avatar:r.bioPage?.avatar||""});try{const e=await T();e.success&&e.stats&&Z({totalLinks:e.stats.totalLinks||0,totalClicks:e.stats.totalClicks||0,countries:e.stats.topCountries?.length||0,clicksThisMonth:e.stats.clicksThisMonth||0})}catch(e){}}catch(a){alert("Failed to load profile data. Please refresh the page.")}finally{K(!1)}},fe=r.useRef(null),je={free:{color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",icon:d},pro:{color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",icon:l},business:{color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",icon:s}},ke=z;if(q&&!J)return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[t.jsx(A,{}),t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]});const Ne=J?.plan||"free",ve=je[Ne]||je.free,Ce=ve.icon;return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[t.jsx(A,{}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[t.jsxs("div",{className:"mb-6 flex gap-2 overflow-x-auto",children:[t.jsx("button",{onClick:()=>_("profile"),className:"px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap "+("profile"===W?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:"Profile"}),t.jsx("button",{onClick:()=>_("settings"),className:"px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap "+("settings"===W?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:"Settings"})]}),"profile"===W&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"relative rounded-2xl h-48 sm:h-64 mb-20 sm:mb-24 overflow-hidden shadow-2xl group border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 transition-transform duration-1000 group-hover:scale-105",children:[t.jsx("div",{className:"absolute top-[-10%] left-[-5%] w-64 h-64 bg-white/10 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-96 h-96 bg-purple-500/20 rounded-full blur-3xl"})]}),t.jsx("div",{className:"absolute inset-0 bg-black/10"}),t.jsx("div",{className:"absolute -bottom-12 sm:-bottom-14 left-1/2 -translate-x-1/2 sm:left-10 sm:translate-x-0 z-10",children:t.jsxs("div",{className:"relative group/avatar",children:[t.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-white dark:bg-gray-800 border-4 border-white dark:border-gray-900 overflow-hidden shadow-2xl flex items-center justify-center transition-all duration-300 group-hover/avatar:shadow-[0_25px_60px_rgba(0,0,0,0.3)]",children:ae.avatar?t.jsx("img",{src:ae.avatar,className:"w-full h-full object-cover transition-transform duration-500 group-hover/avatar:scale-110",alt:"Avatar"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 dark:from-gray-700 dark:to-gray-800",children:t.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold text-3xl sm:text-5xl",children:ae.name&&ae.name.trim()?ae.name.trim().charAt(0).toUpperCase():J?.name&&J.name.trim()?J.name.trim().charAt(0).toUpperCase():J?.email&&J.email.trim()?J.email.trim().charAt(0).toUpperCase():"U"})})}),t.jsx("button",{onClick:()=>fe.current?.click(),className:"absolute bottom-0 right-0 p-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-full transition shadow-xl opacity-0 group-hover/avatar:opacity-100 hover:scale-110 ring-4 ring-white dark:ring-gray-900",children:t.jsx(i,{className:"w-4 h-4"})}),t.jsx("input",{type:"file",ref:fe,onChange:async e=>{const a=e.target.files[0];if(a)if(a.size>5242880)alert("Image too large (Max 5MB)");else try{const e=await(e=>new Promise(a=>{const r=new FileReader;r.readAsDataURL(e),r.onload=e=>{const r=document.createElement("img");r.src=e.target.result,r.onload=()=>{const e=document.createElement("canvas");let t=r.width,s=r.height;const l=500;t>s?t>l&&(s*=l/t,t=l):s>l&&(t*=l/s,s=l),e.width=t,e.height=s,e.getContext("2d").drawImage(r,0,0,t,s),a(e.toDataURL("image/jpeg",.7))}}}))(a);re(a=>({...a,avatar:e})),await F({...ae,avatar:e}),we()}catch(r){alert("Failed to process image")}},accept:"image/*",className:"hidden"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-4 sm:mt-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-sm border border-gray-100 dark:border-gray-700/50",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4 mb-8",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[X?t.jsx("input",{type:"text",value:ae.name,onChange:e=>re({...ae,name:e.target.value}),className:"text-3xl font-bold w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 transition-all",placeholder:"Your Name"}):t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:J?.name||"User"}),t.jsxs("div",{className:`px-3 py-1 rounded-full ${ve.color} font-bold text-xs uppercase tracking-wider flex items-center gap-1.5`,children:[t.jsx(Ce,{className:"w-3.5 h-3.5"}),Ne]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-500 dark:text-gray-400 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-gray-700/50 px-3 py-1.5 rounded-lg",children:[t.jsx(n,{className:"w-4 h-4"}),t.jsx("span",{children:J?.email})]}),t.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 dark:bg-gray-700/50 px-3 py-1.5 rounded-lg",children:[t.jsx(o,{className:"w-4 h-4"}),t.jsxs("span",{children:["Joined ",J?.createdAt?new Date(J.createdAt).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"..."]})]})]})]}),t.jsx("button",{onClick:()=>X?(async()=>{K(!0);try{await F(ae),alert("Profile updated successfully!"),ee(!1),we()}catch(e){alert(e.response?.data?.error||"Failed to update profile")}finally{K(!1)}})():ee(!0),disabled:q,className:`px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2 shadow-lg ${X?"bg-green-600 hover:bg-green-700 text-white shadow-green-500/20":"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-500/20"} disabled:opacity-50 active:scale-95`,children:X?t.jsxs(t.Fragment,{children:[t.jsx(c,{className:"w-5 h-5"}),t.jsx("span",{children:"Save Changes"})]}):t.jsxs(t.Fragment,{children:[t.jsx(x,{className:"w-5 h-5"}),t.jsx("span",{children:"Edit Profile"})]})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-xs font-black uppercase text-gray-400 dark:text-gray-500 tracking-widest",children:"Biography"}),t.jsx("div",{className:"relative group",children:X?t.jsx("textarea",{value:ae.bio,onChange:e=>re({...ae,bio:e.target.value}),rows:"4",className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 transition-all resize-none",placeholder:"Tell us about yourself..."}):t.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg italic",children:['"',J?.bioPage?.bio||J?.bio||"You haven't added a bio yet. Click Edit to tell your story!",'"']})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),X?t.jsx("input",{type:"url",value:ae.website,onChange:e=>re({...ae,website:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://example.com"}):t.jsx("p",{className:"text-blue-600 dark:text-blue-400",children:J?.website||"Not set"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),X?t.jsx("input",{type:"text",value:ae.location,onChange:e=>re({...ae,location:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"City, Country"}):t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:J?.location||"Not set"})]})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[t.jsx(o,{className:"w-4 h-4"}),t.jsxs("span",{children:["Member since ",J?.createdAt?new Date(J.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Unknown"]})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(Y,{icon:g,label:"Total Links",value:Q?.totalLinks||0,color:"blue"}),t.jsx(Y,{icon:m,label:"Total Clicks",value:Q?.totalClicks||0,color:"green"}),t.jsx(Y,{icon:b,label:"Countries",value:Q?.countries||0,color:"purple"}),t.jsx(Y,{icon:h,label:"This Month",value:Q?.clicksThisMonth||0,color:"orange"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(u,{className:"w-6 h-6 text-yellow-500"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Achievements"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:1,name:"First Link",description:"Created your first link",icon:"ðŸŽ‰",unlocked:!0},{id:2,name:"100 Clicks",description:"Reached 100 total clicks",icon:"ðŸ’¯",unlocked:(Q?.totalClicks||0)>=100},{id:3,name:"Global Reach",description:"Clicks from 10+ countries",icon:"ðŸŒ",unlocked:(Q?.countries||0)>=10},{id:4,name:"Power User",description:"Created 50+ links",icon:"âš¡",unlocked:(Q?.totalLinks||0)>=50},{id:5,name:"Viral Hit",description:"Single link with 1000+ clicks",icon:"ðŸš€",unlocked:!1},{id:6,name:"Early Adopter",description:"Joined in first year",icon:"ðŸ†",unlocked:!0}].map(e=>t.jsxs("div",{className:"p-4 rounded-lg border-2 transition-all "+(e.unlocked?"border-yellow-400 dark:border-yellow-600 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/30 opacity-60"),children:[t.jsx("div",{className:"text-3xl mb-2",children:e.icon}),t.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-1",children:e.name}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description}),e.unlocked&&t.jsx(c,{className:"w-4 h-4 text-yellow-500 mt-2"})]},e.id))})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:()=>V("/links"),className:"w-full px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[t.jsx(g,{className:"w-4 h-4"}),t.jsx("span",{children:"Create New Link"})]}),t.jsxs("button",{onClick:()=>V("/analytics"),className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[t.jsx(h,{className:"w-4 h-4"}),t.jsx("span",{children:"View Analytics"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Account Status"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(p,{className:"w-5 h-5 text-green-500"}),t.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Verified Email"})]}),t.jsx(c,{className:"w-5 h-5 text-green-500"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(y,{className:"w-5 h-5 text-blue-500"}),t.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"API Access"})]}),"free"!==Ne?t.jsx(c,{className:"w-5 h-5 text-green-500"}):t.jsx("span",{className:"text-xs text-gray-500",children:"Upgrade"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(s,{className:"w-5 h-5 text-purple-500"}),t.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Premium Features"})]}),"business"===Ne?t.jsx(c,{className:"w-5 h-5 text-green-500"}):t.jsx("span",{className:"text-xs text-gray-500",children:"Upgrade"})]})]}),"free"===Ne&&t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:t.jsx("button",{onClick:()=>_("settings"),className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-lg font-medium transition-colors",children:"Upgrade Plan"})})]})]})]})]}),"settings"===W&&t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(w,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Security & Password"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:le.current?"text":"password",value:te.currentPassword,onChange:e=>se({...te,currentPassword:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter current password"}),t.jsx("button",{type:"button",onClick:()=>de({...le,current:!le.current}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:le.current?t.jsx(f,{className:"w-5 h-5"}):t.jsx(j,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:le.new?"text":"password",value:te.newPassword,onChange:e=>se({...te,newPassword:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter new password"}),t.jsx("button",{type:"button",onClick:()=>de({...le,new:!le.new}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:le.new?t.jsx(f,{className:"w-5 h-5"}):t.jsx(j,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:le.confirm?"text":"password",value:te.confirmPassword,onChange:e=>se({...te,confirmPassword:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Confirm new password"}),t.jsx("button",{type:"button",onClick:()=>de({...le,confirm:!le.confirm}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:le.confirm?t.jsx(f,{className:"w-5 h-5"}):t.jsx(j,{className:"w-5 h-5"})})]})]}),t.jsxs("button",{onClick:async()=>{if(te.newPassword===te.confirmPassword)if(te.newPassword.length<6)alert("Password must be at least 6 characters");else{K(!0);try{await U({currentPassword:te.currentPassword,newPassword:te.newPassword}),alert("Password changed successfully!"),se({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){alert(e.response?.data?.error||"Failed to change password")}finally{K(!1)}}else alert("New passwords do not match")},disabled:q,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[t.jsx(w,{className:"w-4 h-4"}),t.jsx("span",{children:q?"Changing...":"Change Password"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(k,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Subscription Plan"})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Current Plan: ",t.jsx("span",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:oe})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ke.map(e=>t.jsxs("div",{className:"p-6 rounded-lg border-2 "+(oe===e.id?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-700/50"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.name}),oe===e.id&&t.jsx(c,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:[e.price.monthly,t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"/mo"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mb-4 font-bold uppercase tracking-tight",children:"Billed monthly"}),t.jsx("ul",{className:"space-y-2 mb-4",children:e.features.map((e,a)=>t.jsxs("li",{className:"flex items-start text-sm text-gray-600 dark:text-gray-300",children:[t.jsx(c,{className:"w-4 h-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0"}),e]},a))}),oe!==e.id&&t.jsx("button",{onClick:()=>(async e=>{if(confirm(`Are you sure you want to ${"free"===e?"downgrade":"upgrade"} to ${e} plan?`)){K(!0);try{await M(e),alert("Plan updated successfully!"),ce(e),we()}catch(a){alert(a.response?.data?.error||"Failed to update plan")}finally{K(!1)}}})(e.id),disabled:q,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"free"===oe&&"free"!==e.id?"Upgrade":"free"!==oe&&"free"===e.id?"Downgrade":"Switch Plan"})]},e.id))})]}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[B?t.jsx(N,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}):t.jsx(v,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Theme"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose your preferred theme"})]})]}),t.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:B?t.jsxs(t.Fragment,{children:[t.jsx(N,{className:"w-4 h-4"}),t.jsx("span",{children:"Light Mode"})]}):t.jsxs(t.Fragment,{children:[t.jsx(v,{className:"w-4 h-4"}),t.jsx("span",{children:"Dark Mode"})]})})]})}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(C,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sign Out"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Sign out from your account. You will need to sign in again to access your account."}),t.jsxs("button",{onClick:()=>{confirm("Are you sure you want to sign out?")&&($(),V("/login"))},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors flex items-center gap-2",children:[t.jsx(C,{className:"w-4 h-4"}),t.jsx("span",{children:"Sign Out"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border-2 border-red-200 dark:border-red-900/50",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(P,{className:"w-6 h-6 text-red-600 dark:text-red-400"}),t.jsx("h2",{className:"text-xl font-bold text-red-900 dark:text-red-400",children:"Delete Account"})]}),t.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[t.jsx("h3",{className:"font-semibold text-red-900 dark:text-red-300 mb-2",children:"Permanent Account Deletion"}),t.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-4",children:"Once you delete your account, there is no going back. This will permanently delete all your links, analytics data, and account information."}),t.jsxs("button",{onClick:()=>ue(!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[t.jsx(S,{className:"w-4 h-4"}),t.jsx("span",{children:"Delete Account"})]})]})]}),he&&t.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full shadow-2xl",children:[t.jsx("h3",{className:"text-xl font-bold text-red-900 dark:text-red-400 mb-4",children:"Delete Account"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"This action cannot be undone. All your data will be permanently deleted."}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type DELETE to confirm"}),t.jsx("input",{type:"text",value:xe,onChange:e=>ge(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"DELETE"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter your password"}),t.jsx("input",{type:"password",value:me,onChange:e=>be(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Your password"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:async()=>{if("DELETE"!==xe)return void alert("Please type DELETE to confirm");if(!me)return void alert("Please enter your password");if(confirm("âš ï¸ FINAL WARNING: This will permanently delete your account and all data. Are you absolutely sure?")){K(!0);try{await R({password:me,confirmDelete:!0}),alert("Account deleted successfully. You will be logged out now."),$(),V("/login")}catch(e){const a=e.response?.data?.error||"Failed to delete account. Please try again.";alert(a)}finally{K(!1),ue(!1),ge(""),be("")}}},disabled:q||"DELETE"!==xe,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:q?"Deleting...":"Delete Account"}),t.jsx("button",{onClick:()=>{ue(!1),ge(""),be("")},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})]})})]})]})]})}const Y=({icon:e,label:a,value:r,color:s})=>t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg ${{blue:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",green:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",purple:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",orange:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400"}[s]} flex items-center justify-center mb-3`,children:t.jsx(e,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:a}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.toLocaleString()})]});export{I as default};
