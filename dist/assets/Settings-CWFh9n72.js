import{u as e,b as s,j as a,an as t,V as r,au as l,av as d,v as n,am as i,E as o,f as c,y as x,c as m,aw as g,T as u,a4 as b}from"./vendor-BBNOa7qo.js";import{N as h}from"./Navbar-BT3cOAht.js";import{u as p,b as y}from"./index-CpGYe4dt.js";function f(){const{user:f,logout:w}=p(),k=e(),[j,N]=s.useState("profile"),[v,P]=s.useState(!1),[C,S]=s.useState([]),[A,E]=s.useState({name:"",email:""}),[D,L]=s.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[T,F]=s.useState({current:!1,new:!1,confirm:!1}),[I,$]=s.useState(null),[B,Y]=s.useState("free"),[q,O]=s.useState(""),[R,z]=s.useState(""),[U,M]=s.useState(!1);s.useEffect(()=>{G(),V(),W()},[]);const G=async()=>{try{const{data:e}=await y.get("/api/settings/profile");E({name:e.user.name,email:e.user.email}),Y(e.user.plan)}catch(e){}},V=async()=>{try{const{data:e}=await y.get("/api/settings/sessions");S(e.sessions)}catch(e){}},W=async()=>{try{const{data:e}=await y.get("/api/settings/subscription");$(e)}catch(e){}},H=[{id:"profile",label:"Profile Information",icon:t,shortLabel:"Profile"},{id:"password",label:"Security & Password",icon:r,shortLabel:"Password"},{id:"sessions",label:"Active Sessions",icon:l,shortLabel:"Sessions"},{id:"subscription",label:"Subscription & Billing",icon:d,shortLabel:"Billing"},{id:"security",label:"Account Security",icon:n,shortLabel:"Security"}];return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[a.jsx(h,{}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:[a.jsxs("div",{className:"mb-6 sm:mb-8",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Settings"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 text-sm sm:text-base",children:"Manage your account and preferences"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("div",{className:"lg:hidden bg-white dark:bg-gray-800 rounded-xl p-3 shadow-sm mb-4",children:a.jsx("select",{value:j,onChange:e=>N(e.target.value),className:"w-full px-4 py-3 text-sm font-medium rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all min-h-[48px]",children:H.map(e=>a.jsx("option",{value:e.id,children:e.label},e.id))})}),a.jsx("div",{className:"hidden lg:block bg-white dark:bg-gray-800 rounded-xl p-2 shadow-sm",children:H.map(e=>{const s=e.icon;return a.jsxs("button",{onClick:()=>N(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-all text-sm "+(j===e.id?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 shadow-sm font-semibold":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 font-medium"),children:[a.jsx(s,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:e.label})]},e.id)})})]}),a.jsxs("div",{className:"lg:col-span-3",children:["profile"===j&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-5 md:p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[a.jsx(t,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400 flex-shrink-0"}),a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Profile Information"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),a.jsx("input",{type:"text",value:A.name,onChange:e=>E({...A,name:e.target.value}),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 text-sm sm:text-base min-h-[48px]",placeholder:"Your name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:A.email,onChange:e=>E({...A,email:e.target.value}),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 text-sm sm:text-base min-h-[48px]",placeholder:"your@email.com"}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Changing your email will require verification"})]}),a.jsxs("button",{onClick:async()=>{P(!0);try{await y.put("/api/settings/profile",A),alert("Profile updated successfully!"),G()}catch(e){alert(e.response?.data?.error||"Failed to update profile")}finally{P(!1)}},disabled:v,className:"w-full sm:w-auto min-h-[48px] px-5 sm:px-6 py-2.5 sm:py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm sm:text-base",children:[a.jsx(i,{className:"w-4 h-4"}),a.jsx("span",{children:v?"Saving...":"Save Changes"})]})]})]}),"password"===j&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-5 md:p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[a.jsx(r,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400 flex-shrink-0"}),a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Security & Password"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:T.current?"text":"password",value:D.currentPassword,onChange:e=>L({...D,currentPassword:e.target.value}),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 text-sm sm:text-base min-h-[48px]",placeholder:"Enter current password"}),a.jsx("button",{type:"button",onClick:()=>F({...T,current:!T.current}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 min-w-[44px] min-h-[44px] flex items-center justify-center",children:T.current?a.jsx(o,{className:"w-5 h-5"}):a.jsx(c,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:T.new?"text":"password",value:D.newPassword,onChange:e=>L({...D,newPassword:e.target.value}),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 text-sm sm:text-base min-h-[48px]",placeholder:"Enter new password"}),a.jsx("button",{type:"button",onClick:()=>F({...T,new:!T.new}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 min-w-[44px] min-h-[44px] flex items-center justify-center",children:T.new?a.jsx(o,{className:"w-5 h-5"}):a.jsx(c,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:T.confirm?"text":"password",value:D.confirmPassword,onChange:e=>L({...D,confirmPassword:e.target.value}),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 text-sm sm:text-base min-h-[48px]",placeholder:"Confirm new password"}),a.jsx("button",{type:"button",onClick:()=>F({...T,confirm:!T.confirm}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 min-w-[44px] min-h-[44px] flex items-center justify-center",children:T.confirm?a.jsx(o,{className:"w-5 h-5"}):a.jsx(c,{className:"w-5 h-5"})})]})]}),a.jsxs("button",{onClick:async()=>{if(D.newPassword===D.confirmPassword)if(D.newPassword.length<6)alert("Password must be at least 6 characters");else{P(!0);try{await y.post("/api/settings/change-password",{currentPassword:D.currentPassword,newPassword:D.newPassword}),alert("Password changed successfully!"),L({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){alert(e.response?.data?.error||"Failed to change password")}finally{P(!1)}}else alert("New passwords do not match")},disabled:v,className:"w-full sm:w-auto min-h-[48px] px-5 sm:px-6 py-2.5 sm:py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm sm:text-base",children:[a.jsx(r,{className:"w-4 h-4"}),a.jsx("span",{children:v?"Changing...":"Change Password"})]})]})]}),"sessions"===j&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-5 md:p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(l,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400 flex-shrink-0"}),a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Active Sessions"})]}),a.jsx("button",{onClick:async()=>{if(confirm("Are you sure you want to revoke all other sessions? You will be logged out from all other devices."))try{await y.post("/api/settings/sessions/revoke-all"),V(),alert("All other sessions revoked successfully")}catch(e){alert(e.response?.data?.error||"Failed to revoke sessions")}},className:"text-xs sm:text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 font-medium",children:"Revoke All Other Sessions"})]}),a.jsx("div",{className:"space-y-3",children:0===C.length?a.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400 text-center py-8",children:"No active sessions"}):C.map((e,s)=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-1 min-w-0",children:["Mobile"===e.device?a.jsx(x,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 flex-shrink-0 mt-0.5"}):a.jsx(l,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white truncate",children:[e.browser," on ",e.os]}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1",children:[e.device," • ",e.ip," • ",e.location]}),a.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Last active: ",new Date(e.lastActivity).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 justify-end sm:justify-start",children:[e.isActive&&a.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 text-xs rounded-full font-medium",children:"Active"}),0!==s&&a.jsx("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to revoke this session?"))try{await y.delete(`/api/settings/sessions/${e}`),V(),alert("Session revoked successfully")}catch(s){alert(s.response?.data?.error||"Failed to revoke session")}})(e.token),className:"min-h-[36px] px-3 py-1.5 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-xs sm:text-sm font-medium transition-colors",children:"Revoke"})]})]},s))})]}),"subscription"===j&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-5 md:p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[a.jsx(d,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400 flex-shrink-0"}),a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Subscription & Billing"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Current Plan: ",a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:B})]}),I?.subscription?.status&&a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg mb-4 border border-blue-200 dark:border-blue-800",children:[a.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Status: ",a.jsx("span",{className:"font-semibold capitalize",children:I.subscription.status})]}),I.subscription.currentPeriodEnd&&a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Renews on: ",new Date(I.subscription.currentPeriodEnd).toLocaleDateString()]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:"free",name:"Free",price:"$0",features:["1,000 links/month","100 API requests/day","Basic Analytics"]},{id:"pro",name:"Pro",price:"$15",features:["10,000 links/month","1,000 API requests/day","Password Protection","Advanced Analytics"]},{id:"business",name:"Business",price:"$49",features:["Unlimited links","Unlimited API requests","Custom Domains","Team Collaboration"]}].map(e=>a.jsxs("div",{className:"p-4 sm:p-5 md:p-6 rounded-lg border-2 "+(B===e.id?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-700/50"),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:e.name}),B===e.id&&a.jsx(m,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),a.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-4",children:[e.price,a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"/mo"})]}),a.jsx("ul",{className:"space-y-2 mb-4",children:e.features.map((e,s)=>a.jsxs("li",{className:"flex items-start text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:[a.jsx(m,{className:"w-4 h-4 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:e})]},s))}),B!==e.id&&a.jsx("button",{onClick:()=>(async e=>{if(confirm(`Are you sure you want to ${"free"===e?"downgrade":"upgrade"} to ${e} plan?`)){P(!0);try{await y.put("/api/settings/subscription",{plan:e}),alert("Plan updated successfully!"),Y(e),W()}catch(s){alert(s.response?.data?.error||"Failed to update plan")}finally{P(!1)}}})(e.id),disabled:v,className:"w-full min-h-[44px] px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"free"===B&&"free"!==e.id?"Upgrade":"free"!==B&&"free"===e.id?"Downgrade":"Switch Plan"})]},e.id))})]}),"security"===j&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-5 md:p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[a.jsx(g,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400 flex-shrink-0"}),a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Sign Out"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Sign out from your account. You will need to sign in again to access your account."}),a.jsxs("button",{onClick:()=>{confirm("Are you sure you want to sign out?")&&(w(),k("/login"))},className:"w-full sm:w-auto min-h-[48px] px-5 sm:px-6 py-2.5 sm:py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[a.jsx(g,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign Out"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-5 md:p-6 shadow-sm border-2 border-red-200 dark:border-red-900/50",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[a.jsx(u,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600 dark:text-red-400 flex-shrink-0"}),a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-red-900 dark:text-red-400",children:"Delete Account"})]}),a.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsx("h3",{className:"text-sm sm:text-base font-semibold text-red-900 dark:text-red-300 mb-2",children:"Permanent Account Deletion"}),a.jsx("p",{className:"text-xs sm:text-sm text-red-700 dark:text-red-300 mb-4",children:"Once you delete your account, there is no going back. Please be certain. This will permanently delete all your links, analytics data, and account information."}),a.jsxs("button",{onClick:()=>M(!0),className:"min-h-[44px] px-4 sm:px-5 py-2 sm:py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2 text-sm",children:[a.jsx(b,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete Account"})]})]})]}),U&&a.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 sm:p-6 max-w-md w-full shadow-2xl",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-bold text-red-900 dark:text-red-400 mb-4",children:"Delete Account"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-4",children:"This action cannot be undone. All your data will be permanently deleted."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type DELETE to confirm"}),a.jsx("input",{type:"text",value:q,onChange:e=>O(e.target.value),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 text-sm sm:text-base min-h-[48px]",placeholder:"DELETE"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter your password"}),a.jsx("input",{type:"password",value:R,onChange:e=>z(e.target.value),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 text-sm sm:text-base min-h-[48px]",placeholder:"Your password"})]}),a.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3",children:[a.jsx("button",{onClick:()=>{M(!1),O(""),z("")},className:"flex-1 min-h-[48px] px-4 py-2.5 border-2 border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors text-sm",children:"Cancel"}),a.jsx("button",{onClick:async()=>{if("DELETE"!==q)return void alert("Please type DELETE to confirm");if(!R)return void alert("Please enter your password");if(confirm("⚠️ FINAL WARNING: This will permanently delete your account and all data. Are you absolutely sure?")){P(!0);try{await y.delete("/api/settings/account",{data:{password:R,confirmDelete:!0}});alert("Account deleted successfully. You will be logged out now."),w(),k("/login")}catch(e){const s=e.response?.data?.error||"Failed to delete account. Please try again.";alert(s)}finally{P(!1),M(!1),O(""),z("")}}},disabled:v||"DELETE"!==q,className:"flex-1 min-h-[48px] px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:v?"Deleting...":"Delete Account"})]})]})]})})]})]})]})]})]})}export{f as default};
