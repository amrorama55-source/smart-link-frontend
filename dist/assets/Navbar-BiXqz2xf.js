import{b as e,j as s,M as a,X as t,aE as r,aA as l,Z as n,an as i,h as o,L as d,a1 as x,aF as c,q as m,J as h,S as p,n as g,p as u,aw as b,v as f,aG as w,aH as j,t as y}from"./vendor-mINc_jmg.js";import{u as N,a as k,j as v}from"./index-cjCEeBZf.js";function S(){const{user:r}=N(),[l,n]=e.useState(!1),[i,o]=e.useState(!1),[d,x]=e.useState(!1);if(!r||r.isEmailVerified||l)return null;return s.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(a,{className:"w-5 h-5 text-yellow-600"}),s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Verify your email"})," to unlock all features."]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[d?s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"âœ“ Email sent!"}):s.jsx("button",{onClick:async()=>{o(!0);try{const e=localStorage.getItem("token");await k.post("http://localhost:3000/api/auth/resend-verification",{},{headers:{Authorization:`Bearer ${e}`}}),x(!0),setTimeout(()=>x(!1),5e3)}catch(e){alert("Failed to resend email")}finally{o(!1)}},disabled:i,className:"text-sm text-yellow-800 hover:text-yellow-900 font-medium underline disabled:opacity-50",children:i?"Sending...":"Resend email"}),s.jsx("button",{onClick:()=>n(!0),className:"text-yellow-600 hover:text-yellow-800",children:s.jsx(t,{className:"w-5 h-5"})})]})]})})})}function A(){const{user:t,logout:k}=N(),{darkMode:A,toggleDarkMode:C}=v(),U=r(),[D,E]=e.useState(!1),L=e.useRef(null);e.useEffect(()=>{const e=e=>{L.current&&!L.current.contains(e.target)&&E(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e.useEffect(()=>{E(!1)},[U.pathname]);const M=e=>"flex flex-col sm:flex-row items-center justify-center sm:justify-start gap-1 sm:gap-2.5 px-2 sm:px-4 py-2 sm:py-2.5 rounded-xl transition-all font-medium min-h-[44px] min-w-[60px] sm:min-w-auto "+((e=>U.pathname===e)(e)?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white"),z={free:{color:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",icon:i},pro:{color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",icon:n},business:{color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",icon:l}},F=t?.plan||"free",P=z[F]||z.free;return P.icon,P.color,s.jsxs(s.Fragment,{children:[s.jsx(S,{}),s.jsx("nav",{className:"bg-white/95 dark:bg-gray-900/95 border-b border-gray-100 dark:border-gray-800 backdrop-blur-sm sticky top-0 z-50 safe-top",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16 border-b border-gray-200 dark:border-gray-800 sm:border-0",children:[s.jsxs(o,{to:"/dashboard",className:"flex items-center gap-2 sm:gap-3 hover:opacity-80 transition-opacity min-h-[44px] -ml-1 pl-1 group",children:[s.jsx("div",{className:"w-9 h-9 sm:w-11 sm:h-11 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105 flex-shrink-0",children:s.jsx(d,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),s.jsx("span",{className:"text-base sm:text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent tracking-tight",children:"Smart Link"})]}),s.jsxs("div",{className:"relative",ref:L,children:[s.jsxs("button",{onClick:()=>E(!D),className:"flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 sm:py-2.5 rounded-xl transition-all duration-200 min-h-[44px] "+(D?"bg-blue-50 dark:bg-blue-900/20 shadow-lg":"hover:bg-gray-50 dark:hover:bg-gray-800"),children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br ${"business"===t?.plan?"from-purple-500 via-pink-500 to-purple-600":"pro"===t?.plan?"from-blue-500 to-blue-600":"from-gray-500 to-gray-600"} p-0.5 shadow-lg transition-transform duration-300 ${D?"scale-110":""}`,children:s.jsx("div",{className:"w-full h-full rounded-full bg-white dark:bg-gray-900 flex items-center justify-center",children:t?.avatar?s.jsx("img",{src:t.avatar,alt:"Avatar",className:"w-full h-full object-cover rounded-full"}):s.jsx("span",{className:"text-xs sm:text-sm font-bold bg-gradient-to-br from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:(t?.name||"U").charAt(0).toUpperCase()})})}),s.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-900 shadow-sm"})]}),s.jsxs("div",{className:"text-left min-w-0 hidden sm:block",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white leading-tight truncate max-w-[120px]",children:t?.name||"User"}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[s.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 capitalize",children:F}),"business"===t?.plan&&s.jsx("span",{className:"text-xs",children:"ðŸ‘‘"}),"pro"===t?.plan&&s.jsx("span",{className:"text-xs",children:"âš¡"}),"free"===t?.plan&&s.jsx("span",{className:"text-xs",children:"ðŸ†“"})]})]}),s.jsx(x,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200 flex-shrink-0 hidden sm:block "+(D?"rotate-180":"")})]}),D&&s.jsxs("div",{className:"absolute right-0 mt-3 w-[min(100vw-2rem,20rem)] sm:w-80 max-h-[min(75vh,28rem)] overflow-y-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 z-50 scrollbar-hide animate-slideDown",children:[s.jsxs("div",{className:`px-5 py-6 bg-gradient-to-br ${"business"===t?.plan?"from-purple-500 via-pink-500 to-purple-600":"pro"===t?.plan?"from-blue-500 to-blue-600":"from-gray-500 to-gray-600"} relative overflow-hidden`,children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 animate-pulse"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"}),s.jsxs("div",{className:"relative flex items-start gap-4",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-white font-bold text-2xl shadow-xl ring-4 ring-white/30 transition-transform duration-300 group-hover:scale-105 flex-shrink-0",children:t?.avatar?s.jsx("img",{src:t.avatar,alt:"Avatar",className:"w-full h-full object-cover rounded-2xl"}):s.jsx("span",{children:(t?.name||"U").charAt(0).toUpperCase()})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 rounded-full border-3 border-white shadow-lg"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-1 truncate",children:t?.name||"User"}),s.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[s.jsx(a,{className:"w-3.5 h-3.5 text-white/80 flex-shrink-0"}),s.jsx("p",{className:"text-xs text-white/90 truncate",children:t?.email})]}),s.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-full",children:[s.jsx(l,{className:"w-3.5 h-3.5 text-white flex-shrink-0 "+("business"===t?.plan?"animate-pulse":"")}),s.jsxs("span",{className:"text-xs font-bold text-white uppercase tracking-wide",children:[t?.plan||"free"," Plan"]}),"business"===t?.plan&&s.jsx("span",{className:"text-sm",children:"ðŸ‘‘"}),"pro"===t?.plan&&s.jsx("span",{className:"text-sm",children:"âš¡"}),"free"===t?.plan&&s.jsx("span",{className:"text-sm",children:"ðŸ†“"})]})]})]})]}),s.jsxs("div",{className:"p-2",children:[s.jsxs(o,{to:"/profile",onClick:()=>E(!1),className:"flex items-center gap-3 px-4 py-3.5 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all duration-200 group",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/30 dark:to-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform flex-shrink-0",children:s.jsx(c,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"My Profile"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View and edit profile"})]}),s.jsx(m,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]}),s.jsxs(o,{to:"/profile?tab=settings",onClick:()=>E(!1),className:"flex items-center gap-3 px-4 py-3.5 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all duration-200 group",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-100 to-purple-50 dark:from-purple-900/30 dark:to-purple-900/20 flex items-center justify-center group-hover:scale-110 transition-transform flex-shrink-0",children:s.jsx(h,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Settings"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Account preferences"})]}),s.jsx(m,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]}),s.jsx("div",{className:"my-2 border-t border-gray-200 dark:border-gray-700"}),s.jsxs("button",{onClick:()=>{C(),E(!1)},className:"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all duration-200 group",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform flex-shrink-0 "+(A?"bg-gradient-to-br from-yellow-100 to-yellow-50 dark:from-yellow-900/30 dark:to-yellow-900/20":"bg-gradient-to-br from-indigo-100 to-indigo-50 dark:from-indigo-900/30 dark:to-indigo-900/20"),children:A?s.jsx(p,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}):s.jsx(g,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:A?"Light Mode":"Dark Mode"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Switch theme"})]})]}),"free"===t?.plan&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-2 border-t border-gray-200 dark:border-gray-700"}),s.jsxs(o,{to:"/profile?tab=settings",onClick:()=>E(!1),className:"flex items-center gap-3 px-4 py-3.5 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 transition-all duration-200 group shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center group-hover:scale-110 transition-transform flex-shrink-0",children:s.jsx(u,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-white",children:"Upgrade Plan"}),s.jsx("p",{className:"text-xs text-white/90",children:"Unlock premium features"})]}),s.jsx(m,{className:"w-4 h-4 text-white flex-shrink-0"})]})]})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-2",children:s.jsxs("button",{type:"button",onClick:()=>{confirm("Are you sure you want to sign out?")&&k(),E(!1)},className:"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 group",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-100 to-red-50 dark:from-red-900/30 dark:to-red-900/20 flex items-center justify-center group-hover:scale-110 transition-transform flex-shrink-0",children:s.jsx(b,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:"Sign Out"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Logout from account"})]})]})}),s.jsx("div",{className:"px-5 py-3 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 dark:text-gray-400",children:[s.jsx(f,{className:"w-3.5 h-3.5 flex-shrink-0"}),s.jsx("span",{children:"Verified Account"})]}),s.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"v2.1.0"})]})})]})]})]}),s.jsxs("div",{className:"flex gap-1 sm:gap-2 overflow-x-auto pb-1 pt-1 scrollbar-hide -mx-2 px-2",children:[s.jsxs(o,{to:"/dashboard",className:M("/dashboard"),children:[s.jsx(w,{className:"w-5 h-5 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm whitespace-nowrap font-semibold",children:"Dashboard"})]}),s.jsxs(o,{to:"/links",className:M("/links"),children:[s.jsx(j,{className:"w-5 h-5 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm whitespace-nowrap font-semibold",children:"Links"})]}),s.jsxs(o,{to:"/analytics",className:M("/analytics"),children:[s.jsx(y,{className:"w-5 h-5 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm whitespace-nowrap font-semibold",children:"Analytics"})]}),s.jsxs(o,{to:"/bio",className:M("/bio"),children:[s.jsx(i,{className:"w-5 h-5 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm whitespace-nowrap font-semibold",children:"Bio"})]}),s.jsxs(o,{to:"/profile",className:M("/profile"),children:[s.jsx(c,{className:"w-5 h-5 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm whitespace-nowrap font-semibold",children:"Profile"})]})]})]})}),s.jsx("style",{jsx:!0,children:"\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .animate-slideDown {\n          animation: slideDown 0.2s ease-out;\n        }\n\n        .scrollbar-hide::-webkit-scrollbar {\n          display: none;\n        }\n\n        .scrollbar-hide {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n      "})]})}export{A as N};
