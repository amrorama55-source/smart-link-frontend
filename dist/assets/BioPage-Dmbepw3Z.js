import{ax as e,b as r,j as a,l as t,c as s,G as l,ai as o,aj as i,ak as n,al as c}from"./vendor-mINc_jmg.js";import{a as d}from"./index-cjCEeBZf.js";import{t as x}from"./bioThemes-BoZ2fo38.js";const m="http://localhost:3000",b={instagram:c,twitter:n,github:i,linkedin:o,website:l,youtube:l,tiktok:l};function u({previewData:o=null}){const{username:i}=e(),[n,c]=r.useState(!o),[u,h]=r.useState(o),[p,v]=r.useState(null);r.useEffect(()=>{if(o)return h(o),void c(!1);i&&y()},[i,o]);const y=async()=>{c(!0);try{const{data:e}=await d.get(`${m}/api/bio/${i}`);h(e.bioPage),o||g(i)}catch(e){v(e.response?.data?.error||"Bio page not found")}finally{c(!1)}},g=async e=>{try{await d.post(`${m}/api/bio/${e}/view`)}catch(r){}};if(n)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsx(t,{className:"w-8 h-8 text-blue-600 animate-spin"})});if(p||!u)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 text-center px-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:p||"This bio page doesn't exist"})]})});const f=x[u.theme]||x.default;return a.jsxs("div",{className:`min-h-screen w-full transition-colors duration-500 overflow-x-hidden ${o?"rounded-[2rem]":""} flex flex-col`,style:{...f.variables,background:f.variables["--bio-bg"],backdropFilter:f.variables["--bio-backdrop"]||"none"},children:[a.jsx("div",{className:"h-32 w-full",style:{opacity:.2,background:"currentColor"}}),a.jsxs("div",{className:"max-w-xl mx-auto px-4 -mt-16 w-full flex-1 pb-12",children:[a.jsxs("div",{className:"rounded-3xl shadow-xl p-8 border text-center relative overflow-hidden",style:{backgroundColor:"var(--bio-card-bg)",borderColor:"var(--bio-card-border)",color:"var(--bio-text-primary)",boxShadow:"var(--bio-shadow, 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1))"},children:[a.jsx("div",{className:"relative inline-block mb-4",children:a.jsx("div",{className:"w-36 h-36 rounded-full p-1.5 bg-white/20 backdrop-blur-sm shadow-lg mx-auto",children:u.avatar?a.jsx("img",{src:u.avatar,alt:u.displayName,className:"w-full h-full rounded-full object-cover",onError:e=>{e.target.style.display="none"}}):a.jsx("div",{className:"w-full h-full rounded-full bg-blue-100 flex items-center justify-center text-5xl",children:"ðŸ‘¤"})})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-extrabold tracking-tight mb-1",style:{color:"var(--bio-text-primary)"},children:u.displayName||(o?"Your Name":"")}),a.jsxs("p",{className:"text-lg font-medium",style:{color:"var(--bio-text-secondary)"},children:["@",u.username]})]}),u.bio&&a.jsx("p",{className:"text-base leading-relaxed mb-8 max-w-sm mx-auto opacity-90",style:{color:"var(--bio-text-primary)"},children:u.bio}),a.jsx("div",{className:"space-y-3 text-left",children:u.customLinks&&u.customLinks.length>0?u.customLinks.map((e,r)=>a.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",onClick:()=>(async e=>{if(!o)try{await d.post(`${m}/api/bio/${i}/click`,{linkIndex:e})}catch(r){}})(r),className:"group flex items-center p-3 rounded-xl transition-all border hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",style:{backgroundColor:"var(--bio-link-bg)",borderColor:"var(--bio-link-border)"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="var(--bio-link-hover-bg)","minimal"===f.id&&(e.currentTarget.style.color="var(--bio-link-hover-text)")},onMouseOut:e=>{e.currentTarget.style.backgroundColor="var(--bio-link-bg)","minimal"===f.id&&(e.currentTarget.style.color="var(--bio-text-primary)")},children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl mr-3 bg-white/10",children:e.icon||"ðŸ”—"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-sm truncate",style:{color:"var(--bio-text-primary)"},children:e.title||e.url}),a.jsx("p",{className:"text-xs truncate",style:{color:"var(--bio-text-secondary)"},children:e.url})]}),a.jsx(s,{className:"w-5 h-5 opacity-30 group-hover:text-blue-500 transition-colors",style:{color:"var(--bio-text-primary)"}})]},r)):o&&a.jsx("div",{className:"p-6 border-2 border-dashed border-gray-300/50 rounded-xl text-center",children:a.jsx("p",{className:f.subtext,children:"Add verified links"})})}),u.socialLinks&&u.socialLinks.length>0&&a.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200/20 flex justify-center gap-4",children:u.socialLinks.map((e,r)=>{const t=b[e.platform]||l;return a.jsx("a",{href:e.url,target:"_blank",className:"transition-all transform hover:scale-110",style:{color:"var(--bio-text-secondary)"},onMouseOver:e=>e.currentTarget.style.color="var(--bio-text-primary)",onMouseOut:e=>e.currentTarget.style.color="var(--bio-text-secondary)",children:a.jsx(t,{className:"w-6 h-6"})},r)})})]}),a.jsx("div",{className:"text-center mt-8 opacity-50",children:a.jsxs("a",{href:"/",className:"text-xs font-bold tracking-widest uppercase hover:text-blue-500 transition-colors",children:[a.jsx("span",{className:"text-blue-500",children:"âš¡"})," Smart Link"]})})]})]})}export{u as default};
